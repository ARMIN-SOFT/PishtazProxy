/*CMD
  command: ØªØ±Ø§Ú©Ù†Ø´ Ù…ÙˆÙÙ‚ Ú†Ù‡Ø§Ø±Ù…
  help: 
  need_reply: true
  auto_retry_time: 
  folder: 
  answer: ğŸ‘ŒØ§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø±Ø¯Ø§Ø®ØªÛŒ Ú©Ø§Ø±Ø¨Ø± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.
  keyboard: 
  aliases: 
CMD*/

Api.sendChatAction({
chat_id:chat.chatid,
action:"typing"})

let Successful_Transaction_UserID = User.getProperty("Successful_Transaction_UserID");

let Successful_Transaction_FullName = User.getProperty("Successful_Transaction_FullName");

let Successful_Transaction_Payment_Amount = User.getProperty("Successful_Transaction_Payment_Amount");

let UserID = data.user.telegramid;
let Item = parseFloat(Successful_Transaction_Payment_Amount);

let Money = Libs.ResourcesLib.anotherUserRes("Money", Successful_Transaction_UserID);

function Currency(Money){
if(isNaN(Money))
return Money;

if(Money < 1000){
return "ØªÙˆÙ…Ø§Ù†";
}

if(Money < 1000000){
return "Ù‡Ø²Ø§Ø± ØªÙˆÙ…Ø§Ù†";
}

if(Money < 10000000){
return "Ù…ÛŒÙ„ÛŒÙˆÙ† ØªÙˆÙ…Ø§Ù†";
}

if(Money < 1000000000000){
return "Ù…ÛŒÙ„ÛŒØ§Ø±Ø¯ ØªÙˆÙ…Ø§Ù†";
}

if(Money < 1000000000000){
return "Ù…ÛŒÙ„ÛŒØ§Ø±Ø¯ ØªÙˆÙ…Ø§Ù†";
}

if(Money < 1000000000000000){
return "Ø¨ÛŒÙ„ÛŒÙˆÙ† ØªÙˆÙ…Ø§Ù†";
}

if(Money < 1000000000000000000){
return "Ø¨ÛŒÙ„ÛŒØ§Ø±Ø¯ ØªÙˆÙ…Ø§Ù†";
}

if(Money < 1000000000000000000000){
return "ØªØ±ÛŒÙ„ÛŒÙˆÙ† ØªÙˆÙ…Ø§Ù†";
}
}

function Decimal(Money){
return Money.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,')
}

let Buttons1 = [
{title: "ğŸ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ù…Ø¯ÛŒØ±ÛŒØª", command: "Ù…Ø¯ÛŒØ±ÛŒØª Ø¯ÙˆÙ…" },
];

Money.add(Item);
Bot.runCommand("ØªØ§Ø±ÛŒØ® Ùˆ Ø²Ù…Ø§Ù†");
Bot.sendInlineKeyboard(Buttons1, "âœ…Ù…Ø¯ÛŒØ±ÛŒØª Ú¯Ø±Ø§Ù…ÛŒ [<FullName>](tg://user?id=" + UserID + ") Ù…ÛŒØ²Ø§Ù† [" + (Decimal(Item)) + "](tg://user?id=" + UserID + ") ØªÙˆÙ…Ø§Ù† Ø§Ø¹ØªØ¨Ø§Ø± Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ [" + Successful_Transaction_FullName + "](tg://user?id=" + Successful_Transaction_UserID + ") Ø¨Ø§Ø¨Øª ØªØ±Ø§Ú©Ù†Ø´ Ù…ÙˆÙÙ‚ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø´Ø§Ø±Ú˜ Ú¯Ø±Ø¯ÛŒØ¯.\n\n<DateTime>\nâ–â–â–â–â–â–â–â–â–â–\nğŸ‘ŒØ¬Ù‡Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§Ù…Ú©Ø§Ù†Ø§Øª Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ø± Ø±ÙˆÛŒ Ù…Ù†ÙˆÛŒ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯.");

let Payment_Information = data.message;

let Buttons2 = [
{title: "ğŸ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ", command: "Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ" },
];

Bot.runCommand("ØªØ§Ø±ÛŒØ® Ùˆ Ø²Ù…Ø§Ù†");
Bot.sendInlineKeyboardToChatWithId(Successful_Transaction_UserID, Buttons2, "ğŸŠØ¢Ù‚Ø§ÛŒ/Ø®Ø§Ù†Ù… [" + Successful_Transaction_FullName + "](tg://user?id=" + Successful_Transaction_UserID + ") Ø¶Ù…Ù† ØªØ´Ú©Ø± Ø§Ø² Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø±Ø¨Ø§Øª Ø´Ø§Ø±Ú˜ Ø§Ø¹ØªØ¨Ø§Ø± Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø´Ù…Ø§ Ø¨Ù‡ Ù…Ø¨Ù„Øº [" + (Decimal(Item)) + "](tg://user?id=" + Successful_Transaction_UserID + ") ØªÙˆÙ…Ø§Ù† Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ú¯Ø±Ø¯ÛŒØ¯.\n\n<DateTime>\nâ–â–â–â–â–â–â–â–â–â–\nğŸ”°Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø±Ø¯Ø§Ø®ØªÛŒ Ø¨Ø¯ÛŒÙ† Ø´Ø±Ø­ Ø§Ø³Øª:\n\n" + Payment_Information + "\nâ–â–â–â–â–â–â–â–â–â–\nğŸŒØ§Ø±Ø² Ú©Ù†ÙˆÙ†ÛŒ:ğŸ‡®ğŸ‡·Ø§ÛŒØ±Ø§Ù† - ØªÙˆÙ…Ø§Ù†\nğŸ’³Ø§Ø¹ØªØ¨Ø§Ø± Ú©Ù†ÙˆÙ†ÛŒ:*" + (Decimal(Money.value())) + "* " + (Currency(Money.value())) + "\nâ–â–â–â–â–â–â–â–â–â–\nğŸ‘ŒØ¬Ù‡Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§Ù…Ú©Ø§Ù†Ø§Øª Ø±Ø¨Ø§Øª Ø¨Ø± Ø±ÙˆÛŒ Ù…Ù†ÙˆÛŒ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯.");
